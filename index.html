<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Build Fundamentals</title>
<meta name="author" content="Sundaram Ramaswamy"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="./reveal.js/dist/reveal.css"/>

<link rel="stylesheet" href="./reveal.js/dist/theme/night.css" id="theme"/>

<link rel="stylesheet" href="./styles.css"/>
<link rel="stylesheet" href="./reveal.js/plugin/highlight/monokai.css"/>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide">
<h1 class="title">Build Fundamentals</h1><h2 class="author">Sundaram Ramaswamy</h2><h2 class="email"><a href="mailto:sundaram@microsoft.com">sundaram@microsoft.com</a></h2>
</section>

<section>
<section id="slide-1">
<h2 id="1"><span class="section-number-2">1.</span> Agenda</h2>
<aside class="notes">
<p>
Levels of automation, really.
</p>

</aside>

<form><ol>
<li class="fragment appear">Manual: <b>Hand-made</b>
<form><ul>
<li>Binaries</li>
<li>Build Configurations</li>

</ul></form></li>
<li class="fragment appear">Build system: <b><i>Make</i></b>, <i>Ninja</i>, <i>MSBuild</i>, &#x2026;
<form><ul>
<li>Targets</li>
<li>Recipes</li>
<li>Dependencies</li>

</ul></form></li>
<li class="fragment appear">Meta-build system: <b><i>GN</i></b>, <i>CMake</i>, <i>meson</i>, &#x2026;</li>

</ol></form>

</section>
</section>
<section>
<section id="slide-2">
<h2 id="2"><span class="section-number-2">2.</span> Part 1 &#x2013; <i>Manual</i></h2>
</section>
</section>
<section>
<section id="slide-3">
<h2 id="3"><span class="section-number-2">3.</span> Hand-<del>Make</del> Made</h2>
<div class="org-src-container">

<pre><code class="bash" ># GCC/Clang on Linux/macOS
$ g++ hello.cpp
$ ./a.out
$ g++ -std=c++20 -Wall hello.cpp -o hello
$ ./hello

# MSVC on Windows
&gt; cl /EHsc /std:c++17 /W3 hello.cpp
&gt; hello.exe
</code></pre>
</div>

<form><ul>
<li>Common Flags
<form><ul>
<li>Input: <i>bunch of files</i></li>
<li>Output: <code>-o</code></li>
<li>Language standard: <code>-std=c++14</code> <span class="underline">optional</span></li>
<li>Warning level: <code>-Wall</code> <span class="underline">best practise</span> <span class="underline">optional</span></li>

</ul></form></li>
<li class="fragment appear"><code>g++</code> and <code>cl</code> are just <del>compiler</del> toolchain front-ends
<form><ul>
<li>Clang (<code>clang++</code>) copies GCC’s flags</li>

</ul></form></li>

</ul></form>

<p>
<br />
</p>

<blockquote class="fragment appear">
<p>
A useful <del>wizardry</del> skill even today.
</p>
</blockquote>

</section>
</section>
<section>
<section id="slide-4">
<h2 id="4"><span class="section-number-2">4.</span> Tools in the Chain</h2>
<div class="org-src-container">

<pre><code class="cpp" >#include &lt;iostream&gt;                  // preprocessor

float perimeter(float radius);       // compiler
extern float PI;                     // linker

int main() {                         // linker
  constexpr auto radius = 2.71828f;  // compiler
  std::cout &lt;&lt; perimeter(radius);    // compiler + linker
}
</code></pre>
</div>

<form><ul>
<li>Many tools come together in making a <i>binary</i>
<form><ul>
<li>Preprocessor: glorified find-replace / copy-paste</li>
<li>Compiler: generates code</li>
<li>Linker: resolves dependencies</li>
<li><i>more&#x2026;</i></li>

</ul></form></li>
<li>Front-end &rarr; <i>arguments</i> &rarr; Back-end
<form><ul>
<li>Directly or Indirectly</li>

</ul></form></li>

</ul></form>

<p>
<br />
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Add</th>
<th scope="col" class="org-left">Include Dir (Preprocessor)</th>
<th scope="col" class="org-left">Library Dir (Linker)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Directly</td>
<td class="org-left"><code>-I./inc</code></td>
<td class="org-left"><code>-L./libs</code></td>
</tr>

<tr>
<td class="org-left">Indirectly</td>
<td class="org-left"><code>-Xpreprocessor -I./inc</code></td>
<td class="org-left"><code>-Xlinker -L./libs</code></td>
</tr>
</tbody>
</table>

</section>
</section>
<section>
<section id="slide-5">
<h2 id="5"><span class="section-number-2">5.</span> Binaries</h2>
<form><ul>
<li>Kinds
<form><ol>
<li>Executable</li>
<li>Static Library</li>
<li>Shared Library</li>

</ol></form></li>
<li>Build lingo: <i>artefacts</i></li>

</ul></form>

</section>
</section>
<section>
<section id="slide-6">
<h2 id="6"><span class="section-number-2">6.</span> Object/Machine Code</h2>
<div class="org-src-container">

<pre data-fragment-index="5" class="fragment appear"><code class="bash" >$ g++ -std=c++17 -c hello.cpp
$ ls
hello.cpp    hello.o
$ nm hello.o
0000000000000000 T greet

&gt; cl /EHsc /c hello.cpp
&gt; dir
hello.cpp    hello.obj
&gt; dumpbin /symbols hello.obj
</code></pre>
</div>

<form><ul>
<li data-fragment-index="1" class="fragment appear">C++ &rarr; <del>byte</del> <b>native code</b>; runs on actual CPU
<form><ul>
<li data-fragment-index="2" class="fragment appear">Not interpreted by VM¹
<form><ul>
<li>Java: <i>JVM</i>, Python: <i>CPython</i>, C#: <i>CLR</i>, &#x2026;</li>

</ul></form></li>

</ul></form></li>
<li data-fragment-index="3" class="fragment appear">Non-portable binary; depends on
<form><ul>
<li>Architecture (arm64, x64, MIPS, PowerPC, &#x2026;) <span class="underline">EXECUTE</span></li>
<li>OS (Linux, Windows, macOS, &#x2026;) <span class="underline">LOAD</span> <span class="underline">SYSCALLS</span></li>

</ul></form></li>
<li data-fragment-index="4" class="fragment appear">Basic unit of <i>compiled</i> C, C++ and Obj-C
<form><ul>
<li>GCC/Clang: <code>.o</code></li>
<li>MSVC: <code>.obj</code></li>

</ul></form></li>

</ul></form>

<p data-fragment-index="2" class="fragment appear footnote">
1: Don’t conflate with entire machine VMs like <i>Hyper-V</i>, <i>VirtualBox</i>, &#x2026;
</p>

</section>
</section>
<section>
<section id="slide-7">
<h2 id="7"><span class="section-number-2">7.</span> Executable</h2>
<div class="org-src-container">

<pre><code class="bash" ># How do I find the OS/architecture of some rogue binary?

# Linux
$ file my_bin
my_bin: ELF 64-bit, x86-64, GNU/Linux 3.2.0, stripped

# macOS
$ file my_bin
my_bin: Mach-O 64-bit executable x86_64

# Windows (MSYS2 or WSL2)
&gt; file my_bin.exe
my_bin.exe: PE32+ executable (console) x86-64, for MS Windows
</code></pre>
</div>

<form><ul>
<li>Linker expects entry point
<form><ul>
<li>C-family standard: <code>int main()</code></li>
<li>OS alternatives e.g. <code>WinMain</code></li>

</ul></form></li>
<li class="fragment appear"><b>Static dependencies resolved early</b> <span class="underline">build</span></li>
<li class="fragment appear"><b>Dynamic dependencies resolved late</b> <span class="underline">run</span></li>
<li class="fragment appear">Dependency Components
<form><ul>
<li>Headers (<code>.h</code>, <code>.hpp</code>, <code>.hxx</code>, &#x2026;) <span class="underline">compiler</span></li>
<li>Libraries (<code>.a</code>, <code>.lib</code>, <code>.so</code>, <code>.dll</code>, &#x2026;) <span class="underline">linker</span> <span class="underline">os</span></li>

</ul></form></li>
<li class="fragment appear">Common Dependencies
<form><ul>
<li>System &amp; third-party e.g. <a href="http://www.libpng.org/pub/png/libpng.html">libpng</a> (<code>png.h</code> + <code>libpng.a</code>)</li>

</ul></form></li>

</ul></form>

<p>
<br />
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">OS Family</th>
<th scope="col" class="org-left">Extension</th>
<th scope="col" class="org-left">Format</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Unix</td>
<td class="org-left"><i>none</i></td>
<td class="org-left">Executable &amp; Linkable Format (<a href="https://en.wikipedia.org/wiki/Executable_and_Linkable_Format">ELF</a>)</td>
</tr>

<tr>
<td class="org-left">Windows</td>
<td class="org-left"><code>.exe</code></td>
<td class="org-left">Portable Executable (<a href="https://en.wikipedia.org/wiki/Portable_Executable">PE/PE32+</a>)</td>
</tr>

<tr>
<td class="org-left">macOS</td>
<td class="org-left"><i>none</i></td>
<td class="org-left">Mach object (<a href="https://en.wikipedia.org/wiki/Mach-O">Mach-O</a>)</td>
</tr>
</tbody>
</table>

</section>
</section>
<section>
<section id="slide-8">
<h2 id="8"><span class="section-number-2">8.</span> Static vs Shared Libraries</h2>
<pre class="example" id="orgdc85328">
+---------------------+----------+      +--------------+   +--------------+
|                     |          |      |              |   |              |
|                     |          |      |              |   |              |
|   Application 1     |  Static  |      | Application  |   | Application  |
|                     |  Lib A   |      |      3       |   |      4       |
|                     |          |      |              |   |              |
+---------------------+----------+      +------\-------+   +------/-------+
                                                \                /
                                                 \              /
+---------------------+----------+           +----\------------/-----+
|                     |          |           |                       |
|                     |          |           |                       |
|   Application 2     |  Static  |           |    Shared Library B   |
|                     |  Lib A   |           |                       |
|                     |          |           |                       |
+---------------------+----------+           +-----------------------+

</pre>

</section>
</section>
<section>
<section id="slide-9">
<h2 id="9"><span class="section-number-2">9.</span> Static Library</h2>
<div class="org-src-container">

<pre><code class="bash" data-line-numbers='1,2,4,13-15'>$ ar -rcs libTrig.a sin.o cos.o tan.o
$ ar -t libTrig.a
sin.o cos.o tan.o
$ nm libTrig.a
0000000000000000 T sin
0000000000001000 T cos

$ ls -l
80K   libTrig.a
20K   libmath.a
200K  tool.o
$ gcc -o tool tool.o libTrig.a
ld: sin.o: undefined reference to 'add(int, int)'
$ gcc -o tool tool.o -ltrig -lmath
$ ls -l tool
300K  tool
</code></pre>
</div>

<form><ul>
<li class="fragment appear">An archive of object files <span class="underline">linker</span>
<form><ul>
<li>With interface headers e.g. <code>trig.h</code> <span class="underline">compiler</span></li>

</ul></form></li>
<li class="fragment appear"><b>Code attached to final executable</b> <span class="underline">build</span>
<form><ul>
<li>Static/Compile-time linking by linker</li>

</ul></form></li>
<li class="fragment appear"><b>Dependencies aren’t resolved!</b> <span class="underline">build</span>
<form><ul>
<li>Final binary to supply dependency</li>

</ul></form></li>
<li class="fragment appear">Toolchain feature; OS uninvolved</li>
<li class="fragment appear">No entry functions <code>main()</code>, <code>DllMain()</code>, &#x2026;</li>

</ul></form>

</section>
<section id="slide-9-1">
<h3 id="9-1"><span class="section-number-3">9.1.</span> Pros &amp; Cons</h3>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">No “missing dependencies” error for app</td>
<td class="org-left">No sweeping updates / fixes</td>
</tr>

<tr>
<td class="org-left">No version mismatches or <a href="https://en.wikipedia.org/wiki/Dependency_hell">Dependency Hell</a></td>
<td class="org-left">Every app to rebuild on update</td>
</tr>

<tr>
<td class="org-left">Single executable; simpler package/install</td>
<td class="org-left">Disk space (fat binaries, multiple copies)¹</td>
</tr>

<tr>
<td class="org-left">Apps may ignore breaking lib version</td>
<td class="org-left">No on-demand loading / plug-ins</td>
</tr>

<tr>
<td class="org-left">Library needn’t be backward-compatible</td>
<td class="org-left">Slower build time for app (strip unused)</td>
</tr>
</tbody>
</table>

<p style="font-size: large;">
1: Doesn’t apply to <i>Windows</i>; each software brings its own (non-system) libraries
</p>

</section>
</section>
<section>
<section id="slide-10">
<h2 id="10"><span class="section-number-2">10.</span> Shared/Dynamic Library</h2>
<div class="org-src-container">

<pre><code class="bash" data-line-numbers='1,6,12'>$ g++ -o tool tool.o
$ ls -l
200K  tool.o
200K  tool

$ g++ -shared -fPIC {sin,cos,tan}.cpp -o trig.dll -lmath
$ nm trig.dll
0000000000000000 T sin
0000000000001000 T cos ...

$ gcc -o tool tool.o trig.dll
$ ls -l
80K   trig.dll
200K  tool.o
200K  tool
</code></pre>
</div>

<form><ul>
<li class="fragment appear">Single library shared across apps <span class="underline">run</span>
<form><ul>
<li>Single copy in memory at runtime</li>

</ul></form></li>
<li class="fragment appear"><b>Static dependencies resolved</b> <span class="underline">build</span>
<form><ul>
<li>Need dynamic dependencies at launch</li>
<li><code>a.dll</code> &rarr; <code>b.dll</code> &rarr; &#x2026; 😲 <span class="underline">dependency chain</span></li>

</ul></form></li>
<li class="fragment appear"><b>Final executable contains <del>code</del> only jumps</b></li>
<li class="fragment appear">Dynamic/run-time linking by OS/loader <span class="underline">run</span>
<form><ul>
<li>Expects library presence in right path on
<form><ul>
<li>Launch</li>
<li>Demand: <code>dlopen</code>, <code>LoadLibrary</code></li>

</ul></form></li>

</ul></form></li>
<li class="fragment appear">Entry functions e.g. <code>DllMain</code></li>

</ul></form>

<p>
<br />
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">OS</th>
<th scope="col" class="org-left">Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Windows</td>
<td class="org-left">Dynamic Link Libraries (<code>.dll</code>)</td>
</tr>

<tr>
<td class="org-left">Linux</td>
<td class="org-left">Shared Objects (<code>.so</code>)</td>
</tr>

<tr>
<td class="org-left">macOS</td>
<td class="org-left">Dynamic Shared Libraries/Bundles (<code>.dylib</code> / <code>.so</code>)</td>
</tr>
</tbody>
</table>

</section>
<section id="slide-10-1">
<h3 id="10-1"><span class="section-number-3">10.1.</span> Pros &amp; Cons</h3>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Sweeping updates / fixes</td>
<td class="org-left">Missing dependencies; failure to launch</td>
</tr>

<tr>
<td class="org-left">Plug-ins / on-demand loads</td>
<td class="org-left">Versioning / Dependency Hell</td>
</tr>

<tr>
<td class="org-left">Toolchain independent; cross-toolchain</td>
<td class="org-left">OS dependent</td>
</tr>

<tr>
<td class="org-left">No app rebuilding</td>
<td class="org-left">Many OS-specific binaries; pkg/install hassle</td>
</tr>

<tr>
<td class="org-left">Lesser disk footprint</td>
<td class="org-left">Backward-compatible considerations</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Forced updates breaking app</td>
</tr>
</tbody>
</table>

</section>
</section>
<section>
<section id="slide-11">
<h2 id="11"><span class="section-number-2">11.</span> Tools and Switches</h2>
<div class="org-src-container">

<pre><code class="bash" ># GCC/MinGW on Windows
&gt; g++ -std=c++17 -D_DEBUG hello.cpp -g -O0 -flto -o hello.exe

# MSVC on Windows
&gt; cl /EHsc /std:c++17 /D_DEBUG hello.cpp /Zi /Od /LTCG
</code></pre>
</div>

<form><ul>
<li class="fragment appear">Compiler Flags
<form><ul>
<li>Enable debug symbols: <code>-g</code></li>
<li>Disable optimizations: <code>-O0</code></li>

</ul></form></li>
<li class="fragment appear">Linker Flags
<form><ul>
<li>Link time optimization: <code>-flto</code></li>

</ul></form></li>
<li class="fragment appear">Preprocessor Flags
<form><ul>
<li>Define macros, add include dirs, etc.</li>
<li><code>-D_DEBUG</code> &rarr; <code>#define _DEBUG</code></li>
<li><code>-DPI=3.14</code> &rarr; <code>#define PI 3.14</code></li>

</ul></form></li>
<li class="fragment appear"><b>List of flags can get long, <i>really long</i></b>
<form><ul>
<li>MSVC: 166 (<i>1 platform, arch-neutral</i>)</li>
<li>GCC: <a href="https://gcc.gnu.org/onlinedocs/gcc-11.1.0/gcc/Option-Summary.html">gazillion</a> (<i>multi-arch, multi-platform</i> 🤯)</li>

</ul></form></li>

</ul></form>

</section>
</section>
<section>
<section id="slide-12">
<h2 id="12"><span class="section-number-2">12.</span> Software and Features</h2>
<blockquote>
<p>
Conditional compilation of certain pieces of code.
</p>
</blockquote>

<div class="org-src-container">

<pre><code class="bash" ># 2. Conditional Inclusion
# BUILD.gn
if (is_linux || is_chromeos) {
  sources += [
    "base_paths_posix.cc"
  ]
}
</code></pre>
</div>

<div class="org-src-container">

<pre><code class="cpp" >// 1. Macro
// C++
#if defined(ENABLE_TAB_TOGGLE)
  tab_toggler.init();
#endif
</code></pre>
</div>

<form><ul>
<li>Features are made of code</li>
<li>Code can guarded by switches
<form><ol>
<li>Macros</li>
<li>Conditional inclusion of files</li>

</ol></form></li>
<li class="fragment appear"><b>Binary won’t have omitted feature’s bits</b>
<form><ul>
<li>Unlike <i>command-line-flag</i>-enabled features</li>

</ul></form></li>

</ul></form>

</section>
</section>
<section>
<section id="slide-13">
<h2 id="13"><span class="section-number-2">13.</span> Build Configuration</h2>
<blockquote>
<p>
<b>Configuration</b>: particular combination of all switches¹.
</p>
</blockquote>

<form><ul>
<li class="fragment appear">Theoretically <code>m × n</code> switches (<i>toolchain × software</i>)
<form><ul>
<li>Strictly speaking <code>m x n</code> isn’t possible</li>

</ul></form></li>
<li class="fragment appear"><b>Switches can be inter-dependant</b>
<form><ul>
<li>Example: turning on PDF might need Print support</li>
<li>Example: turning on logging for <i>Debug</i> builds</li>

</ul></form></li>
<li class="fragment appear">Manual: tedious and error-prone
<form><ul>
<li>Hampers reproducibility, productivity and maintenance</li>

</ul></form></li>

</ul></form>

<p>
<br />
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">Emojis</th>
<th scope="col" class="org-left">Speech</th>
<th scope="col" class="org-left">Plugins</th>
<th scope="col" class="org-left">Logging</th>
<th scope="col" class="org-left">Debug</th>
<th scope="col" class="org-left">Optimization</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Config1</td>
<td class="org-left">✓</td>
<td class="org-left">✓</td>
<td class="org-left">✓</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">✓</td>
</tr>

<tr>
<td class="org-left">Config2</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">✓</td>
<td class="org-left">✓</td>
<td class="org-left">✓</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<p class="footnote">
1: Think: <code>args.gn</code>
</p>

</section>
</section>
<section>
<section id="slide-14">
<h2 id="14"><span class="section-number-2">14.</span> Common Configurations</h2>
<div class="org-src-container">

<pre><code class="bash" >$ cd ~/edge/src
$ gn args out/release_x64 --list --short | wc -l
$ 887

$ wc -l &lt; out/release_x64/args.gn
$ 11
$ gn args out/release_x64 --list --short --overrides-only | wc -l
$ 20

$ gn args out/release_x64 --list=crashpad_dependencies
crashpad_dependencies
  Current value = "chromium"
    From //.gn:51
  Overridden from the default = "standalone"
    From //third_party/crashpad/crashpad/build/crashpad_buildconfig.gni:19
</code></pre>
</div>

<form><ul>
<li><i>Debug</i>
<form><ul>
<li>Disable optimizations</li>
<li>Keep symbols</li>

</ul></form></li>
<li><i>Release</i>
<form><ul>
<li>Enable optimizations</li>
<li>Strip debug symbols</li>

</ul></form></li>
<li>Debug &minus; logging (<i>DbgNoLog</i>)</li>
<li>Release + debug (<i>RelDbg</i>)</li>
<li>Release + size optimization (<i>RelMinSize</i>)</li>
<li>&#x2026;</li>

</ul></form>

</section>
</section>
<section>
<section id="slide-15">
<h2 id="15"><span class="section-number-2">15.</span> Part 2 &#x2013; Build System</h2>
</section>
</section>
<section>
<section id="slide-16">
<h2 id="16"><span class="section-number-2">16.</span> Make</h2>
<form><ul>
<li class="fragment appear">First step towards build automation</li>
<li class="fragment appear">Minimal enough to learn important build concepts</li>
<li class="fragment appear">Powerful enough; still used in production code
<form><ul>
<li>Good for quick workouts personally</li>

</ul></form></li>
<li class="fragment appear">Cross-platform, cross-toolchain POSIX standard <span class="underline">productivity</span>
<form><ul>
<li>GCC/Clang: GNU <code>make</code>, BSD <code>make</code>; MSVC: <code>nmake</code></li>
<li>Most IDEs support Makefile-based projects</li>
<li>VS 2019+: UNIX makefile project template</li>

</ul></form></li>
<li class="fragment appear">Rebuild only changed parts <span class="underline">speed</span> <span class="underline">dry</span>
<form><ul>
<li>Avoids hand-compiling tedium and mistakes</li>
<li>Enables build reproducibility in a team</li>

</ul></form></li>

</ul></form>

</section>
</section>
<section>
<section id="slide-17">
<h2 id="17"><span class="section-number-2">17.</span> Makefile Rules 🤘</h2>
<div class="org-src-container">

<pre><code class="makefile" ># commonly used flags in variable
CXXFLAGS       = -std=c++17 -Wall
LDFLAGS        = -flto

biryani: rice.o spices.o
    g++ $(LDFLAGS) -o biryani rice.o spices.o
    cp biryani ./installer/bin

spices.o: spices.cpp spices.h
    g++ $(CXXFLAGS) -o spices.o -c spices.cpp

rice.o: rice.cpp rice.h utensils.h spices.h
    g++ $(CXXFLAGS) -o rice.o -c rice.cpp

clean:
    rm -rf biryani *.o

.PHONY: clean
</code></pre>
</div>

<form><ul>
<li>Add <code>Makefile</code> at project root with <i>rules</i></li>
<li class="fragment appear"><b>Target</b>: final artefact expected
<form><ul>
<li>Considered outdated if older than a dependency</li>

</ul></form></li>
<li class="fragment appear"><b>Dependency</b>: ingredients needed to make target</li>
<li class="fragment appear"><b>Recipe</b>: snippet making target from dependencies
<form><ul>
<li>Target <i>outdated</i> ¹? Re-run recipe!</li>

</ul></form></li>
<li class="fragment appear"><code>make</code>: build first target
<form><ul>
<li><code>make TARGET</code>: only build <code>TARGET</code> (and its dependencies)</li>

</ul></form></li>
<li class="fragment appear"><b>Golden Rule</b>
<form><ul>
<li><i>Every target’s recipe should update file naming it.</i></li>
<li>Add exceptions to <code>.PHONY</code>; always outdated</li>

</ul></form></li>

</ul></form>

<p class="footnote">
1: older than a dependency
</p>

</section>
</section>
<section>
<section id="slide-18">
<h2 id="18"><span class="section-number-2">18.</span> Makefile Refinements</h2>
<div class="org-src-container">

<pre><code class="makefile" ># commonly used flags in variable
CXXFLAGS = $(USERFLAGS) -std=c++17 -Wall
LDFLAGS  = -flto      # LTO ON
LDLIBS   = -lz -lmath # libMath.a, libZ.a

biryani: rice.o spices.o
    $(CC) $(LDFLAGS) -o $@ $^ $(LDLIBS)
    cp biryani ./installer/bin

spices.o: spices.cpp spices.h
rice.o: rice.cpp rice.h utensils.h spices.h
doc: ref.html tutorial.html

# Pattern rule
%.html: %.md
    pandoc -o $@ $&lt;
# e.g. pandoc -o ref.html ref.md

clean:
    $(RM) biryani *.o

commit:
    git add $(wildcard *.cpp *.h)
    git commit

.PHONY: clean doc commit
</code></pre>
</div>

<form><ul>
<li>Power to build engineers
<form><ul>
<li>Override settings without editing <code>Makefile</code></li>
<li><code>make CC=clang++</code>: override toolchain to Clang</li>
<li><code>USER_FLAGS='-DMY_SHINY_FEATURE=ON -O3' make</code></li>

</ul></form></li>
<li class="fragment appear">Special variables
<form><ul>
<li>target <code>$@</code>, dependencies <code>$^</code>, first dep: <code>$&lt;</code></li>

</ul></form></li>
<li class="fragment appear">Pattern rule: map <code>.X</code> &rarr; <code>.Y</code></li>
<li class="fragment appear">Make <i>knows</i> how to build <code>.o</code> from <code>.cpp</code>, <code>.c</code>, etc.
<form><ul>
<li>Implicit rule: <code>$(CC) -c $(CFLAGS) -o $@ $&lt;</code></li>

</ul></form></li>
<li class="fragment appear">Make isn’t language-specific
<form><ul>
<li><code>make doc</code> builds documentation using <a href="https://pandoc.org/">Pandoc</a></li>
<li><code>make install</code>: bunch of copies</li>

</ul></form></li>

</ul></form>

</section>
</section>
<section>
<section id="slide-19">
<h2 id="19"><span class="section-number-2">19.</span> Makefile Builds</h2>
<div class="org-src-container">

<pre><code class="makefile" >.POSIX:
COMPILER_FLAGS = -Wall -Werror -pedantic -pedantic-errors
CXXFLAGS       = -std=c++17 $(COMPILER_FLAGS)

all: debug release

debug: CXXFLAGS += -g -O0 -D_DEBUG -DDEBUG
debug: hello

release: CXXFLAGS += -O2 -DNDEBUG
release: hello

hello: hello.swift MyCMod/adder.o
    swiftc -I . -o $@ $&lt;

MyCMod/adder.o: MyCMod/adder.cpp MyCMod/adder.h

clean:
    $(RM) hello MyCMod/adder.o

.PHONY: all clean
</code></pre>
</div>

<form><ul>
<li>Separate debug and release targets</li>
<li>Per-target variable values</li>
<li><code>make debug</code> and <code>make release</code></li>
<li><code>make</code> to build both
<form><ul>
<li>Convention: Make an <code>all</code> target</li>

</ul></form></li>
<li>Complexity ∝ Configurations × Dependencies
<form><ul>
<li>Natural to any build system</li>
<li>No on <i>writes</i> <code>build.ninja</code></li>
<li><a href="https://ninja-build.org/">Ninja’s introduction</a> calls this out!
<form><ul>
<li>A low-level but fast make system</li>

</ul></form></li>

</ul></form></li>

</ul></form>

<p>
<br />
</p>

<blockquote>
<p>
“[&#x2026;] designed to have its input files generated by a higher-level build system.  Ninja build files are human-readable but not especially convenient to write by hand.”
</p>
</blockquote>

</section>
</section>
<section>
<section id="slide-20">
<h2 id="20"><span class="section-number-2">20.</span> Part 3 &#x2013; Meta-Build System</h2>
</section>
</section>
<section>
<section id="slide-21">
<h2 id="21"><span class="section-number-2">21.</span> Meta on Meta-Build Systems</h2>
<form><ul>
<li class="fragment appear">A <i>generator</i> of build/project files
<form><ul>
<li><i>Generate Ninja</i> (GN) generates VS, Xcode, Eclipse, QtCreator solutions too</li>
<li>Alternatives: <a href="https://cmake.org/">CMake</a>, <a href="https://premake.github.io/">premake</a>, <a href="https://xmake.io/">xmake.io</a>, <a href="https://mesonbuild.com/">meson</a>, <a href="https://waf.io/">Waf</a>, <a href="https://scons.org/">SCons</a>, <a href="https://bazel.build/">Bazel</a>, &#x2026;</li>

</ul></form></li>
<li class="fragment appear">Scriptability
<form><ul>
<li>Run code based on environment/parameters and generate</li>
<li>Copy resources, pre-/post-tasks, make installer package</li>

</ul></form></li>
<li class="fragment appear">Multi-language support
<form><ul>
<li><i>Ant</i>: Java, <i>rake</i>: Ruby, <i>Cargo</i>: Rust, &#x2026;</li>

</ul></form></li>
<li class="fragment appear">Cross-platform, multi-IDE support</li>
<li class="fragment appear">Natural evolution of build systems</li>
<li class="fragment appear">Best of both worlds
<form><ul>
<li>CLI: Build automation, speed, correctness</li>
<li>GUI: Developer-friendly, wider adoption</li>

</ul></form></li>

</ul></form>

</section>
</section>
<section>
<section id="slide-22">
<h2 id="22"><span class="section-number-2">22.</span> GN Basics</h2>
<div class="org-src-container">

<pre><code class="bash" >executable("img_view") {          # target
  sources = [
    "window.cpp",
    "filter.cpp",
  ]

  cflags = [ "-Wall" ]            # flags
  defines = [ "USE_GPU=1" ]       # feature macros
  include_dirs = [ "./inc" ]

  dependencies = [
    ":libpng",                     # in-file
    # ‘core’ under third_party/animator/BUILD.gn
    "//third_party/animator:core"  # qualified
    # ‘markdown’ under third_party/markdown/BUILD.gn
    "//third_party/markdown"       # implicit
  ]

  if (is_win) {
    sources += [ "d3d11.cpp" ]
    sources -= [ "window.cpp" ]
    ldflags = [ "/SUBSYSTEM:WINDOWS",
                "/DELAYLOAD: d3d11.dll" ]
  }
}

static_library("libpng") {
  sources = [
      "encoder.c",
      "decoder.c",
    ]

  public_deps = [
    "//third_party/boost:file_io"
  ]
}

</code></pre>
</div>

<form><ul>
<li>5 target types for 5 binaries/artefacts
<form><ul>
<li><code>executable</code>, <code>static_library</code>, <code>shared_library</code></li>
<li><code>loadable_module</code>, <code>source_set</code> <span class="underline">rare</span></li>

</ul></form></li>
<li>Often used properties of targets
<form><ul>
<li><code>sources</code>: define (<code>= [ … ]</code>), add (<code>+=</code>) or remove (<code>-=</code>)</li>
<li><code>cflags</code> / <code>ldflags</code>: compiler or linker flags</li>
<li><code>defines</code>: (feature) macros</li>

</ul></form></li>
<li>Labels: name of dependency graph node e.g. <code>":base"</code>
<form><ul>
<li>Targets, Configurations, Toolchains</li>

</ul></form></li>
<li>Core ideas from <i>Make</i>
<form><ul>
<li>Targets, Dependencies, Flags, Macros</li>

</ul></form></li>

</ul></form>

<p>
<br />
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">Executable</th>
<th scope="col" class="org-left">Static</th>
<th scope="col" class="org-left">Shared</th>
<th scope="col" class="org-left">Loadable Module</th>
<th scope="col" class="org-left">Source Set</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Windows</td>
<td class="org-left"><code>.exe</code></td>
<td class="org-left"><code>.lib</code></td>
<td class="org-left"><code>.dll</code></td>
<td class="org-left"><code>.dll</code></td>
<td class="org-left"><code>.obj</code></td>
</tr>

<tr>
<td class="org-left">Linux</td>
<td class="org-left"><i>none</i></td>
<td class="org-left"><code>.a</code></td>
<td class="org-left"><code>.so</code></td>
<td class="org-left"><code>.so</code></td>
<td class="org-left"><code>.o</code></td>
</tr>

<tr>
<td class="org-left">macOS</td>
<td class="org-left"><i>none</i></td>
<td class="org-left"><code>.a</code></td>
<td class="org-left"><code>.dylib</code></td>
<td class="org-left"><code>.so</code></td>
<td class="org-left"><code>.o</code></td>
</tr>
</tbody>
</table>

</section>
</section>
<section>
<section id="slide-23">
<h2 id="23"><span class="section-number-2">23.</span> Public and Transitive Dependencies</h2>
<div class="org-src-container">

<pre><code class="bash" ># A can use B and C but not super_secret
executable("A") {
  deps = [ ":B" ]
}

shared_library("B") {
  public_deps = [ ":C" ]
  deps = [ ":super_secret" ]
  # link no code from evil directory
  assert_no_deps = [ "//evil/*" ]
}
</code></pre>
</div>

<form><ul>
<li>Dependency chain: <code>A</code> &rarr; <code>B</code> &rarr; <code>C</code>
<form><ul>
<li><code>dependencies</code>: <code>B</code> can include/use <code>C</code>; <code>A</code> can’t</li>
<li><code>public_deps</code>: A can include <code>C</code> too</li>

</ul></form></li>
<li><code>B</code> should publicly depend on <code>C</code> if it’s part of interface <code>B</code></li>
<li>Private dependency if it’s just implementation detail</li>
<li>This is <b>recursive</b>!</li>
<li>Shared Libraries
<form><ul>
<li>Final target links to all publicly dependent shared libraries</li>

</ul></form></li>
<li>Static Libraries
<form><ul>
<li>Link both <code>deps</code> and <code>public_deps</code> to final target</li>
<li>Final target can include from <code>public_deps</code></li>

</ul></form></li>
<li><code>assert_no_deps</code>: explicitly disallow targets from linking</li>
<li><code>A</code> inherits <code>public_configs</code> of <code>C</code> too</li>

</ul></form>

</section>
</section>
<section>
<section id="slide-24">
<h2 id="24"><span class="section-number-2">24.</span> Args and Configs</h2>
<div class="org-src-container">

<pre><code class="bash" >declare_args() {
  enable_command_line = false
  use_opengl = true
  assert(!(use_opengl &amp;&amp; enable_command_line),
         "Can’t use OpenGL and terminal together")
}

config("memory_tagging") {
  if (current_cpu == "arm64" &amp;&amp; is_linux) {
    cflags = [ "-march=armv8-a+memtag" ]
  }
}

executable("img_view") {
  if (use_opengl) {
    ldflags += [ "/DELAYLOAD: opengl32.dll" ]
  }
  configs += [ ":memory_tagging" ]
}

shared_library("cpu_filters") {
  sources = [ "shaders.cpp" ]
  configs += [ ":memory_tagging" ]
  if (use_opengl) {
    # using GPU, skip tagging CPU memory
    configs -= [ ":memory_tagging" ]
  }
}
</code></pre>
</div>

<form><ul>
<li><code>declare_args</code>: define arguments for your target
<form><ul>
<li>Set in <code>args.gn</code>, command-line or toolchain args</li>

</ul></form></li>
<li><code>config</code>: distil common configuration for reuse
<form><ul>
<li><code>public_config</code> to propagate up the dependency chain</li>

</ul></form></li>
<li><code>all_dependent_configs</code>: force configs on dependants <span class="underline">rare</span>
<form><ul>
<li>Forced on target, its dependents, its dependents &#x2026;</li>
<li>Can’t remove (<code>-=</code>) these configs</li>

</ul></form></li>

</ul></form>

</section>
</section>
<section>
<section id="slide-25">
<h2 id="25"><span class="section-number-2">25.</span> Data Dependencies</h2>
<form><ul>
<li><code>data</code>: Runtime data dependencies
<form><ul>
<li>List files/dirs required to run target</li>
<li>Paths interpreted relative to current build file</li>
<li>e.g. strings compiled into binary, XML, &#x2026;</li>

</ul></form></li>
<li><code>data_deps</code>: non-linked runtime dependencies
<form><ul>
<li>Built and available for use</li>
<li>Generally plugins or helper programs</li>

</ul></form></li>
<li>List a target’s runtime data dependencies
<form><ul>
<li><code>gn desc TARGET</code> lists in <code>runtime_deps</code> section</li>
<li>Get for many: <code>gn --runtime-deps-list-file=INPUT</code>
<form><ul>
<li><code>OUTPUT.runtime_deps</code> in target’s output directory</li>

</ul></form></li>

</ul></form></li>

</ul></form>

</section>
</section>
<section>
<section id="slide-26">
<h2 id="26"><span class="section-number-2">26.</span> Actions</h2>
<div class="org-src-container">

<pre><code class="bash" >action("run_this_guy_once") {
  script = "doprocessing.py"
  sources = [ "my_configuration.txt" ]
  outputs = [ "$target_gen_dir/some_output.txt" ]

  # doprocessing.py imports this script; rebuild if it changes
  inputs = [ "helper_library.py" ]

  # root_build_dir is script’s working dir
  args = [ "-i", rebase_path(inputs[0], root_build_dir),
           rebase_path(outputs[0], root_build_dir) ]
}

copy("mydll") {
  sources = [ "mydll.dll" ]
  outputs = [ "$target_out_dir/mydll.dll" ]
}
</code></pre>
</div>

<form><ul>
<li>Useful for pre-/post-build tasks
<form><ul>
<li><code>action</code>: target to run script once</li>
<li><code>action_forach</code>: run over set of files</li>
<li><code>copy</code>: target to copy files
<form><ul>
<li>Cross platform abstraction</li>

</ul></form></li>

</ul></form></li>

</ul></form>

</section>
</section>
<section>
<section id="slide-27">
<h2 id="27"><span class="section-number-2">27.</span> Useful Commands</h2>
<div class="org-src-container">

<pre><code class="bash" >$ cd out/debug_x64

$ gn ls . '//base/*'   # list all base targets
//base:base
//base:base_paths
//base:base_static
//base:build_date
//base:build_utf8_validator_tables
//base:check_example
//base:debugging_flags
//base:i18n

$ gn ls .  # list all targets under all paths
# list only static libraries under //base; --type understand all 5 artefacts

$ gn ls . --type=static_library '//base/*'
//base:base
//base:base_static
//base:i18n

# ※ get the actual target to feed ninja ※
$ gn ls . --type=static_library --as=output '//base/*'
obj/base/libbase.a
obj/base/libbase_static.a
obj/base/libbase_i18n.a
$ autoninja obj/base/libbase_static.a  # build only libbase_static.a

# ※ what if I want to build just one .cc?  drop to ninja level ※
$ ninja -t targets all &gt; all_targets.txt
$ grep 'browser_window_ring' all_targets.txt  # Windows: findstr /srip /C:
obj/chrome/browser/ui/ui/browser_window_ring_touch_bar.o: objcxx
obj/chrome/test/unit_tests/browser_window_ring_touch_bar_unittest.o: objcxx
$ autoninja obj/chrome/browser/ui/ui/browser_window_ring_touch_bar.o

# Why can’t I include a header from dependency X?  X isn’t a public_dep.
$ gn path . --public //components/history/content/browser //chrome/browser
No public paths found between these two targets.

# find path and depend on a target; include headers
$ gn path . //cc/base //content/browser
//content/browser:browser --[public]--&gt;
//services/viz/public/mojom:mojom --[public]--&gt;
//cc/paint:paint --[public]--&gt;
//cc/base:base

# print dependency tree
$ gn desc . //tools/gn deps --tree
//base:base
  //base:base_paths
  //base:base_static
  //base:build_date
  //base:copy_dbghelp.dll
  //base:debugging_flags
  //base/allocator:allocator
    //base/allocator:allocator_shim
      //base/allocator:prep_libc

# where did that flag come from?
$ gn desc . //base cflags --blame
From //build/config/compiler:default_optimization
     (Added by //build/config/BUILDCONFIG.gn:456)
  /Od
  /Ob0
  /RTC1
From //build/config/compiler:default_symbols
     (Added by //build/config/BUILDCONFIG.gn:457)
  /Zi

gn check .
ERROR at //base/files/file_path.cc
#include "sql/statement.h"
          ^--------------
It is not in any dependency of
  //base:base
The include file is in the target(s):
  //sql:sql
which should somehow be reachable.
</code></pre>
</div>

<form><ul>
<li><code>gn help</code>: built-in help
<form><ul>
<li><code>gn help ls</code>, <code>gn help root_out_dir</code></li>

</ul></form></li>
<li><code>gn ls</code>: list targets</li>
<li><code>gn desc</code>: describe targets
<form><ul>
<li>Try <code>--tree</code> and <code>--blame</code></li>

</ul></form></li>
<li><code>gn path</code>: dependency path from two targets</li>
<li><code>gn args</code>: query current build’s arguments</li>
<li><code>gn clean</code>: keep only <code>args.gn</code> and Ninja files</li>

</ul></form>

</section>
</section>
<section>
<section id="slide-28">
<h2 id="28"><span class="section-number-2">28.</span> Templates</h2>
<div class="org-src-container">

<pre><code class="bash" >template("grit") {
  ...
}
grit("components_strings") {
  source = "components.grd"
  output = [ ... ]
}

template("component") {
  if (is_component_build) {
    _component_mode = "shared_library"
  } else if (defined(invoker.static_component_type)) {
    assert(invoker.static_component_type == "static_library" ||
           invoker.static_component_type == "source_set")
    _component_mode = invoker.static_component_type
  } else if (!defined(invoker.sources) || invoker.sources == []) {
    # When there are no sources defined, use a source set to avoid creating
    # an empty static library (which generally don't work).
    _component_mode = "source_set"
  } else {
    _component_mode = "static_library"
  }
}

component("base") {
  # sources, flags, etc.
}
</code></pre>
</div>

<form><ul>
<li>Create your own target <i>type</i>
<form><ul>
<li>From 5 primitive types <span class="underline">class</span></li>

</ul></form></li>
<li>Use <code>.gni</code> files to <code>import</code>
<form><ul>
<li>Shared variable and template</li>

</ul></form></li>
<li>Popular Templates
<form><ul>
<li><code>component</code> (<code>//build/config/BUILDCONFIG.gn</code>)
<form><ul>
<li>Shared library for component builds like <code>debug</code></li>

</ul></form></li>
<li><code>msvc_toolchain</code> (<code>//build/toolchain/win/BUILD.gn</code>)</li>
<li><code>clang_toolchain</code> (<code>//build/toolchain/gcc_toolchain.gni</code>)</li>
<li><code>apple_toolchain</code> (<code>//build/toolchain/apple/toolchain.gni</code>)</li>

</ul></form></li>

</ul></form>

</section>
</section>
<section>
<section id="slide-29">
<h2 id="29"><span class="section-number-2">29.</span> Setup</h2>
<form><ul>
<li>GN usable outside Chromium too
<form><ul>
<li>Work &gt; generic meta build systems (like <i>CMake</i>, <i>premake</i>, etc.)</li>

</ul></form></li>
<li>Refer GN’s <a href="https://gn.googlesource.com/gn/+/main/examples/simple_build">simple_build</a> example</li>
<li>Define <code>.gn</code> at project root
<form><ul>
<li><code>gn help dotfile</code></li>

</ul></form></li>
<li>Define configurations: <code>//build/config/BUILDCONFIG.gn</code>
<form><ul>
<li>Global variables (<code>is_win</code>, <code>{target,host}_os</code>, <code>{target,host}_cpu</code>, &#x2026;)</li>
<li>Defaults for targets: <code>gn help set_defaults</code>
<form><ul>
<li><code>set_defaults(static_library) { configs = [ ":def_flags", ":optimize" ] }</code></li>

</ul></form></li>

</ul></form></li>
<li>Define toolchain(s)</li>
<li>Supports C, C++, Rust, Objective-C and Swift</li>

</ul></form>

</section>
</section>
<section>
<section id="slide-30">
<h2 id="30"><span class="section-number-2">30.</span> Toolchain</h2>
<div class="org-src-container">

<pre><code class="bash" ># gn.googlesource.com/gn/+/main/examples/simple_build/build/toolchain/BUILD.gn
toolchain("gcc") {
  tool("cc") {
    command = "gcc {{defines}} {{include_dirs}} {{cflags}} {{cflags_c}} -c {{source}} -o {{output}}"
    depsformat = "gcc"
    description = "CC {{output}}"
    outputs =
        [ "{{source_out_dir}}/{{target_output_name}}.{{source_name_part}}.o" ]
  }
  tool("cxx") {
    description = "CXX {{output}}"
    # ... snipped ...
  }
  tool("alink") {
    command = "rm -f {{output}} &amp;&amp; ar rcs {{output}} {{inputs}}"
    description = "AR {{target_output_name}}{{output_extension}}"
    outputs =
        [ "{{target_out_dir}}/{{target_output_name}}{{output_extension}}" ]
    default_output_extension = ".a"
    output_prefix = "lib"
  }
  tool("solink") {
    description = "SOLINK $soname"
    # ... snipped ...
  }
  tool("link") {
    outfile = "{{target_output_name}}{{output_extension}}"
    # reponse file to hold command until successful execution
    rspfile = "$outfile.rsp"
    rspfile_content = "{{inputs}}"
    command = "g++ {{ldflags}} -o $outfile @$rspfile {{solibs}} {{libs}}"
    description = "LINK $outfile"
    default_output_dir = "{{root_out_dir}}"
    outputs = [ outfile ]
  }
  tool("stamp") {
    command = "touch {{output}}"
    description = "STAMP {{output}}"
  }
  tool("copy") {
    command = "cp -af {{source}} {{output}}"
    description = "COPY {{source}} {{output}}"
  }
}
</code></pre>
</div>

<form><ul>
<li>Identifier Label</li>
<li>Global variables <code>OS</code>, <code>CPU</code>, etc.</li>
<li>Specify tools of chain
<form><ul>
<li>{C, C++} compiler</li>
<li>linker</li>
<li>stamp</li>
<li>copy</li>

</ul></form></li>
<li><code>set_default_toolchain</code> if &gt; 1</li>
<li>Under <code>//build/toolchain</code></li>

</ul></form>

</section>
</section>
<section>
<section id="slide-31">
<h2 id="31"><span class="section-number-2">31.</span> References</h2>
<form><ol>
<li><a href="https://gcc.gnu.org/onlinedocs/gcc/Option-Summary.html">GNU Compile Collection Documentation</a></li>
<li><a href="https://docs.microsoft.com/en-us/cpp/build/reference/compiling-a-c-cpp-program?view=msvc-160">Microsoft MSVC compiler Reference</a></li>
<li><a href="https://www.gnu.org/software/make/manual/make.html">GNU Makefile Documentation</a></li>
<li><a href="//makefiletutorial.com/">MakefileTutorial.com</a> <span class="underline">friendly</span></li>
<li><a href="https://gn.googlesource.com/gn/+/main/docs/">GN Documentation</a></li>
<li>+ Quick Start, Reference, Style Guide, Language</li>
<li><a href="https://docs.google.com/presentation/d/15Zwb53JcncHfEwHpnG_PoIbbzQ3GQi_cpujYwbpcbZo">Using GN Build</a> (2015)</li>
<li><a href="https://cs.chromium.org/">Chromium codebase</a></li>
<li><a href="https://www.stackoverflow.com">StackOverflow.com</a></li>

</ol></form>

</section>
</section>
<section>
<section id="slide-32">
<h2 id="32"><span class="section-number-2">32.</span> Thank you!</h2>
</section>
</section>
</div>
</div>
<script src="./reveal.js/dist/reveal.js"></script>
<script src="./reveal.js/plugin/highlight/highlight.js"></script>
<script src="./reveal.js/plugin/zoom/zoom.js"></script>
<script src="./reveal.js/plugin/notes/notes.js"></script>
<script src="./reveal.js/plugin/search/search.js"></script>
<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: true,
center: true,
slideNumber: 'c',
rollingLinks: false,
keyboard: true,
mouseWheel: false,
fragmentInURL: false,
hashOneBasedIndex: false,
pdfSeparateFragments: true,
overview: true,
width: 1920,
height: 1080,

transition: 'slide',
transitionSpeed: 'fast',

// Plugins with reveal.js 4.x
plugins: [ RevealHighlight, RevealZoom, RevealNotes, RevealSearch ],

// Optional libraries used to extend reveal.js
dependencies: [
]

});
</script>
</body>
</html>
